<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TYP Result Card</title>
<style>
body{
    margin:0;
    background:#0d1117;
    font-family:Segoe UI, sans-serif;
    display:flex;
    flex-direction:column;
    align-items:center;
    min-height:100vh;
    color:#ecf0f1;
}

.title{
    margin-top:20px; 
    font-size:1.3rem;
    font-weight:700;
    color:#3498db;
    letter-spacing:1px;
}

.subtitle{
    font-size:0.75rem;
    opacity:0.5;
    margin-top:4px;
    margin-bottom:10px;
    font-weight:600;
}

.card{
    width:320px;
    background:#161b22;
    border-radius:12px;
    padding:12px;
    box-shadow:0 0 14px rgba(52,152,219,.35);
    margin-top:5px;
}

select{
    -webkit-appearance:none;
    -moz-appearance:none;
    appearance:none;
    background:#0d1117;
    color:#ecf0f1;
    border:1.5px solid #3498db;
    border-radius:6px;
    padding:2px 6px;
    font-weight:600;
    font-size:0.65rem;
    cursor:pointer;
    min-width:120px;
    text-align:center;
}

option:disabled {
    opacity:0.5;
}

.team-score{
    display:flex;
    justify-content:center;
    align-items:center;
    font-weight:700;
    font-size:0.9rem;
    margin-bottom:12px;
    gap:10px;
}

.score{
    background:#0d1117;
    border:1.5px solid #3498db;
    color:#ecf0f1;
    padding:2px 8px;
    border-radius:6px;
    font-weight:800;
    width:60px;
    min-width:60px;
    text-align:center;
    font-size:0.7rem;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:2px;
    flex-shrink:0;
}

.score span{
    user-select:none;
}

.player-row{
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:.75rem;
    padding:4px 0;
    border-bottom:1px solid #222;
    margin:2px 0;
}

.player-row:last-child{
    border-bottom:none;
}

.player-name{
    width:90px;
    text-align:center;
    position:relative;
    cursor:pointer;
}

.player-score{
    background:#0d1117;
    border:1.5px solid #3498db;
    color:#ecf0f1;
    padding:2px 6px;
    border-radius:5px;
    font-weight:700;
    font-size:.65rem;
    width:60px;
    min-width:60px;
    text-align:center;
    display:flex;
    justify-content:center;
    align-items:center;
    gap:2px;
    flex-shrink:0;
}

.player-score .pipe{
    user-select:none;
}

.decider-label{
    text-align:center; 
    margin-top:15px; 
    font-size:0.75rem; 
    opacity:0.5; 
    font-weight:600;
}

/* Dropdown menu */
.dropdown{
    position:absolute;
    top:110%;
    left:0;
    width:100%;
    background:#161b22;
    border:1px solid #3498db;
    border-radius:6px;
    max-height:120px;
    overflow-y:auto;
    z-index:10;
    display:none;
}

.dropdown div{
    padding:4px;
    cursor:pointer;
}

.dropdown div:hover{
    background:#3498db;
    color:#0d1117;
}

[contenteditable]{
    outline:none;
    cursor:text;
}
</style>

<style>
.card {
    width: 320px;
    border-radius: 12px;
    padding: 12px;
    box-shadow: 0 0 14px rgba(52,152,219,.35);
    margin-top: 5px;
    color: #ecf0f1;
    position: relative; /* overlay এর জন্য */
    overflow: relative;
}

/* Logo overlay */
.card::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 800px;      /* logo size */
    height: 800px;     /* logo size */
    transform: translate(-50%, -50%);
    background: url('logo.png') no-repeat center center;
    background-size: contain;
    opacity: 0.05;      /* কম opacity */
    pointer-events: none; /* click এ interfere করবে না */
    z-index: 0;
}

/* Card content */
.card > * {
    position: relative;
    z-index: 1; /* overlay এর ওপরে text/inputs আসবে */
}
</style>
</head>
<body>

<div class="title">TYP AUCTION TOURNAMENT</div>
<div class="subtitle">MATCHDAY RESULT CARD</div>

<div class="card">

    <div class="team-score">
        <select id="teamA">
            <option disabled selected>Select Team</option>
            <option>BARISHAL BULLS</option>
            <option>HYPER MUNSHIGANJ</option>
            <option>TANGAIL EXPRESS</option>
            <option>NOAKHALI AVIATION</option>
            <option>DHAKA ALLIANCE</option>
            <option>CHATTOGRAM FC</option>
        </select>

        <span class="score">
            <span contenteditable="true">0</span>
            <span class="pipe">|</span>
            <span contenteditable="true">0</span>
        </span>

        <select id="teamB">
            <option disabled selected>Select Team</option>
            <option>BARISHAL BULLS</option>
            <option>HYPER MUNSHIGANJ</option>
            <option>TANGAIL EXPRESS</option>
            <option>NOAKHALI AVIATION</option>
            <option>DHAKA ALLIANCE</option>
            <option>CHATTOGRAM FC</option>
        </select>
    </div>

    <div id="playerContainer">
        <!-- 7 rows -->
        <div class="player-row">
            <span class="player-name" id="playerA1">Player 1
                <div class="dropdown" id="dropdownA1"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB1">Player 1
                <div class="dropdown" id="dropdownB1"></div>
            </span>
        </div>
        <div class="player-row">
            <span class="player-name" id="playerA2">Player 2
                <div class="dropdown" id="dropdownA2"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB2">Player 2
                <div class="dropdown" id="dropdownB2"></div>
            </span>
        </div>
        <div class="player-row">
            <span class="player-name" id="playerA3">Player 3
                <div class="dropdown" id="dropdownA3"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB3">Player 3
                <div class="dropdown" id="dropdownB3"></div>
            </span>
        </div>
        <div class="player-row">
            <span class="player-name" id="playerA4">Player 4
                <div class="dropdown" id="dropdownA4"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB4">Player 4
                <div class="dropdown" id="dropdownB4"></div>
            </span>
        </div>
        <div class="player-row">
            <span class="player-name" id="playerA5">Player 5
                <div class="dropdown" id="dropdownA5"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB5">Player 5
                <div class="dropdown" id="dropdownB5"></div>
            </span>
        </div>
        <div class="player-row">
            <span class="player-name" id="playerA6">Player 6
                <div class="dropdown" id="dropdownA6"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB6">Player 6
                <div class="dropdown" id="dropdownB6"></div>
            </span>
        </div>
        <div class="player-row">
            <span class="player-name" id="playerA7">Player 7
                <div class="dropdown" id="dropdownA7"></div>
            </span>
            <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB7">Player 7
                <div class="dropdown" id="dropdownB7"></div>
            </span>
            </div>
<div class="player-row">
    <span class="player-name" id="playerA8">Player 8
        <div class="dropdown" id="dropdownA8"></div>
    </span>
    <span class="player-score"><span contenteditable="true">0</span><span class="pipe">|</span><span contenteditable="true">0</span></span>
            <span class="player-name" id="playerB8">Player 8
                <div class="dropdown" id="dropdownB8"></div>
            </span>
        </div>
        
    </div>
</div>

<div class="decider-label">DECIDER MATCH</div>

<div class="card" id="deciderCard">
    <div class="player-row" style="justify-content:center;">
        <span class="player-name" id="deciderA"> Name
            <div class="dropdown" id="dropdownDeciderA"></div>
        </span>
        <span class="player-score">
            <span contenteditable="true">X</span>
            <span class="pipe">|</span>
            <span contenteditable="true">X</span>
        </span>
        <span class="player-name" id="deciderB">Name
            <div class="dropdown" id="dropdownDeciderB"></div>
        </span>
    </div>
</div>

<script>
// Team select disable same
const teamA = document.getElementById('teamA');
const teamB = document.getElementById('teamB');

function updateOptions(){
    const valA = teamA.value;
    const valB = teamB.value;
    Array.from(teamA.options).forEach(opt=>{
        if(opt.value && opt.value === valB) opt.disabled = true;
        else if(opt.value !== "Select Team") opt.disabled = false;
    });
    Array.from(teamB.options).forEach(opt=>{
        if(opt.value && opt.value === valA) opt.disabled = true;
        else if(opt.value !== "Select Team") opt.disabled = false;
    });
}

// Team player mapping
const teamPlayers = {
    "BARISHAL BULLS": ["RB Mahbub","RB Weird","RB Ali ","RB Rahat ","RB Dipto ","RB junaeid","RB Rusho","RB Minahz ","RB Rittik","RB Akhil"],
    "HYPER MUNSHIGANJ": ["HM Tasin","HM Amtiyaz","HM Ifaz","HM Munna","HM Jihad","HM Suhag","HM Muhimin","HM Rayan"," HM JONY","HM SOPNIL"],
    "TANGAIL EXPRESS": ["TG Sudipta","TG samiul","TG Shadin","TG Areez","TG Aabid","TG Abid Islam","TG Dipu","TG Rafi","TG Jidan","TG Safwan"],
    "NOAKHALI AVIATION": ["NA Azmain ","NA Nehal","NA Tahmid","NA  Tariq ","NA Fakhrul ","NA Yasin ","NA Shahja","NA Rafi uddin","NA Sifat","NA Tasfiqul"],
    "DHAKA ALLIANCE": ["DA Murad","DA Fahad ","DA Afrin","DA Salman","DA Mdsajjab ","DA Tawfiq ","DA Jarif ","DA Shakib ","DA Ronit ","DA Tahajeebur"],
    "CHATTOGRAM FC": ["CTG Saad ","CTG Kopil","CTG David","CTG Sipp","CTG Shahriar","CTG Faisal","CTG SULEMAN","CTG Shohag","CTG Shakib","CTG SAAD Jr."]
};

// Track selected players to disable
let selectedPlayers = [];

// Setup player dropdown
function setupDropdown(spanId, dropdownId){
    const span = document.getElementById(spanId);
    const dropdown = document.getElementById(dropdownId);

    span.addEventListener('click', ()=>{
        const team = spanId.includes("A") ? teamA.value : (spanId.includes("B") ? teamB.value : null);
        const players = teamPlayers[team] || [];
        dropdown.innerHTML = '';
        players.forEach(p=>{
            if(!selectedPlayers.includes(p)){
                const div = document.createElement('div');
                div.textContent = p;
                div.addEventListener('click', (e)=>{
                    // Remove old selection
                    const old = span.getAttribute('data-selected');
                    if(old) selectedPlayers = selectedPlayers.filter(x=>x!==old);

                    span.textContent = e.target.textContent;
                    span.setAttribute('data-selected', e.target.textContent);
                    selectedPlayers.push(e.target.textContent);
                    dropdown.style.display='none';
                });
                dropdown.appendChild(div);
            }
        });
        dropdown.style.display = players.length ? 'block' : 'none';
    });

    document.addEventListener('click', e=>{
        if(!span.contains(e.target)){
            dropdown.style.display='none';
        }
    });
}

// Setup all player spans
for(let i=1;i<=8;i++){
    setupDropdown("playerA"+i,"dropdownA"+i);
    setupDropdown("playerB"+i,"dropdownB"+i);
}
setupDropdown("deciderA","dropdownDeciderA");
setupDropdown("deciderB","dropdownDeciderB");

teamA.addEventListener('change', updateOptions);
teamB.addEventListener('change', updateOptions);

</script>
<script>
const scores = document.querySelectorAll('.editable');

scores.forEach((el, index) => {

  el.addEventListener('keydown', e => {

    // শুধু সংখ্যা, backspace, space allow
    if (
      !/[0-9]/.test(e.key) &&
      e.key !== 'Backspace' &&
      e.key !== ' '
    ) {
      e.preventDefault();
    }

    // Space → next score
    if (e.key === ' ') {
      e.preventDefault();
      focusNext(index);
    }

    // Backspace → আগের score
    if (e.key === 'Backspace' && el.innerText.length === 0) {
      e.preventDefault();
      focusPrev(index);
    }
  });

  el.addEventListener('input', () => {
    // 2 digit হলে auto next
    if (el.innerText.length >= 2) {
      el.innerText = el.innerText.slice(0, 2);
      focusNext(index);
    }
  });

});

function focusNext(i) {
  if (scores[i + 1]) {
    setFocus(scores[i + 1]);
  }
}

function focusPrev(i) {
  if (scores[i - 1]) {
    setFocus(scores[i - 1]);
  }
}

function setFocus(el) {
  el.focus();
  const range = document.createRange();
  const sel = window.getSelection();
  range.selectNodeContents(el);
  range.collapse(false);
  sel.removeAllRanges();
  sel.addRange(range);
}
</script>
</body>
    </html>
